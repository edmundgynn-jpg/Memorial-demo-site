<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>David Gynn Memorials — Demo</title>

  <!-- Lora from Google (if offline, browser will use fallback) -->
  <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#ececea;            /* slightly darker than before so stone pops */
      --dark:#152820;          /* deep green text */
      --slate:#33373a;         /* dark slate button base */
      --stone:#cfcfca;         /* light headstone color (a touch darker) */
      --muted:#6f7a73;
      --accent:#7f9a7d;        /* banner green—one shade lighter than before */
      --accent-deep:#0f1c18;
      --max-width:980px;
    }
    *{box-sizing:border-box}
    body{font-family:'Lora', serif; background:var(--bg); color:var(--dark); margin:0; -webkit-font-smoothing:antialiased}
    .container{max-width:var(--max-width); margin:0 auto; padding:18px}
    header{background:linear-gradient(180deg,var(--accent), #6d846c); color:#fff; padding:14px 0; position:relative}
    .header-inner{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:0 18px}
    .brand{font-weight:700; font-size:18px}
    .nav{display:flex; gap:12px}
    .nav button{background:transparent;color:rgba(255,255,255,0.95);border:0;padding:8px 10px;border-radius:6px;cursor:pointer;font-size:15px}
    .nav button.active{background:rgba(255,255,255,0.10)}
    .rope-strip{height:34px; opacity:0.16; background-repeat:repeat-x; background-position:center; background-size:auto 34px}

    main{padding:28px 18px}
    .hero{max-width:900px;margin:0 auto;text-align:center;padding:6px 0 18px}
    .hero h1{font-size:28px;margin:6px 0 8px}
    .lead{color:#e7e7e7;max-width:760px;margin:0 auto 14px}
    .cta-wrap{margin-top:18px}

    /* Quote button */
    .quote-button{
      display:inline-flex;align-items:center;gap:12px;background:var(--slate);color:white;border:0;padding:12px 18px;border-radius:10px;cursor:pointer;
      box-shadow:0 8px 20px rgba(19,23,22,0.18);
      font-weight:700;font-size:16px;
    }
    .quote-button svg{width:56px;height:56px;flex:0 0 56px}
    .btn-text{line-height:1}

    /* Values */
    .values{margin-top:26px;text-align:center}
    .values-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;max-width:820px;margin:18px auto}
    .value-card{background:rgba(255,255,255,0.03);padding:12px 14px;border-radius:8px}
    .value-card h3{margin:0 0 6px}
    .value-card p{margin:0;color:var(--muted)}

    /* cards */
    .card-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:22px}
    .card{background:white;padding:14px;border-radius:10px;box-shadow:0 8px 24px rgba(0,0,0,0.06);min-width:200px;max-width:320px;text-align:left}

    /* pages */
    .page{display:none}
    .page.active{display:block}

    /* rules blocks */
    .rules{display:flex;gap:12px;flex-wrap:wrap}
    .rule-block{flex:1;min-width:210px;background:#fff;padding:14px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.04)}

    /* small CTA */
    .bottom-cta{text-align:center;margin:26px 0}
    .quote-small{background:transparent;border:2px solid var(--slate);padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:700}

    /* footer */
    footer{background:white;padding:18px 0;margin-top:28px}
    footer .container{display:flex;flex-direction:column;align-items:center;gap:8px}

    /* CONTACT LAYOUT */
    .contact-top{
      position:relative;
      display:grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap:16px;
      align-items:start;
    }
    .castle-wrap{
      position:relative;
      min-height:180px;
      overflow:visible;
    }
    .castle-bg{
      position:absolute;
      right:-10px;
      top:-20px;
      width:340px;
      height:auto;
      opacity:0.12;              /* subtle watermark look */
      z-index:-1;
      filter:drop-shadow(0 2px 2px rgba(0,0,0,0.05));
      animation:floaty 8s ease-in-out infinite;
    }
    @keyframes floaty{
      0%   { transform: translateY(0px) }
      50%  { transform: translateY(6px) }
      100% { transform: translateY(0px) }
    }

    .contact-panels{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
      margin-top:12px;
    }

    .panel{
      background:#fff;
      border-radius:10px;
      box-shadow:0 6px 18px rgba(0,0,0,0.04);
      padding:14px;
    }

    /* simple map placeholder */
    .map-box{
      aspect-ratio: 4 / 3;
      background:linear-gradient(180deg,#f5f5f5,#fafafa);
      border:1px solid #ddd;
      border-radius:10px;
      position:relative;
      overflow:hidden;
    }
    .map-box svg{position:absolute; inset:0; width:100%; height:100%}

    /* info list */
    .info-list{margin:0; padding-left:18px}
    .info-list li{margin:4px 0}

    /* FAQ */
    details{
      background:#fff;border-radius:10px;box-shadow:0 6px 18px rgba(0,0,0,0.04);padding:10px 12px;margin:8px 0
    }
    summary{cursor:pointer;font-weight:700}

    /* Headstone-envelope (bottom feature) */
    .contact-bottom{
      display:flex;justify-content:center;margin-top:14px
    }
    .fold-cta{
      display:inline-flex;align-items:center;gap:10px;background:var(--slate);color:#fff;border:0;padding:10px 14px;border-radius:10px;cursor:pointer;
      box-shadow:0 8px 20px rgba(19,23,22,0.18); font-weight:700;
    }
    .fold-cta svg{width:72px;height:72px;flex:0 0 72px}

    /* Headstone styling: darker pinstripe outline */
    .stone-outline{ stroke:#2a2a2a; stroke-width:2; }
    .stone-outline-thin{ stroke:#2a2a2a; stroke-width:1.4; }

    /* responsive */
    @media(min-width:880px){
      .hero h1{font-size:40px}
      .values-grid{grid-template-columns:repeat(4,1fr)}
      .nav{gap:18px}
    }
    @media(max-width:860px){
      .contact-top{ grid-template-columns:1fr }
      .castle-bg{right:0; width:60vw; opacity:0.10}
      .contact-panels{grid-template-columns:1fr}
    }
    @media(max-width:720px){
      .values-grid{grid-template-columns:1fr}
      .nav{display:none}
      .quote-button{width:92%}
      .mobile-bottom-cta{position:fixed;left:0;right:0;bottom:12px;display:flex;justify-content:center;pointer-events:auto}
      .mobile-bottom-cta .quote-button{width:92%;max-width:640px}
    }
    .muted{color:var(--muted);font-size:14px}
    a{color:var(--dark);text-decoration:none}
    .center{text-align:center}
    hr{border:none;height:1px;background:rgba(0,0,0,0.05);margin:18px 0}
    .img-placeholder{background:linear-gradient(180deg,#e9e9e9,#f4f4f4);border-radius:8px;padding:36px 24px;color:#888}
  </style>
</head>
<body>
  <!-- HEADER -->
  <header>
    <div class="header-inner container">
      <div class="brand">David Gynn Memorials</div>
      <nav class="nav" aria-label="Main navigation">
        <button data-page="home" class="active">Home</button>
        <button data-page="memorials">Memorials</button>
        <button data-page="services">Stones & Services</button>
        <button data-page="contact">Contact</button>
      </nav>
    </div>
    <div class="rope-strip" id="ropeStrip"></div>
  </header>

  <!-- MAIN CONTENT (single-file SPA) -->
  <main>
    <div class="container">

      <!-- HOME -->
      <section id="home" class="page active">
        <div class="hero">
          <h1>Family-owned memorial masonry in Cornwall</h1>
          <p class="lead">David Gynn Memorials — David, Harry & Eddie. Trusted craftsmanship for over 40 years.</p>

          <div class="cta-wrap">
            <button class="quote-button" id="quoteBtn" aria-label="Get a Quote">
              <svg viewBox="0 0 200 200" id="stoneSVG" role="img" aria-hidden="true">
                <!-- ogee headstone -->
                <path class="stone-outline" id="stonePath" d="M30 160 L30 110 C30 92 50 70 80 66 C92 64 108 64 120 66 C150 70 170 92 170 110 L170 160 Z" fill="var(--stone)"/>
                <!-- base -->
                <rect class="stone-outline-thin" x="55" y="140" width="90" height="10" fill="rgba(0,0,0,0.06)"></rect>
              </svg>
              <span class="btn-text">Get a Quote</span>
            </button>
          </div>

          <div class="values">
            <div class="values-grid" aria-hidden="false">
              <div class="value-card center"><h3>Customer Centricity</h3><p>We listen first — every memorial reflects the family it’s for.</p></div>
              <div class="value-card center"><h3>Compassion</h3><p>We understand this isn’t just stonework — we’re here to help, not rush.</p></div>
              <div class="value-card center"><h3>Quality</h3><p>Meticulous craftsmanship, lasting beauty.</p></div>
              <div class="value-card center"><h3>Honesty</h3><p>Clear advice, fair prices, and no surprises.</p></div>
            </div>
          </div>
        </div>

        <div class="card-row">
          <a class="card" href="#" data-page-link="memorials">
            <h3>Memorials</h3>
            <p class="muted">See examples and parish rules for Devon & Cornwall.</p>
          </a>
          <a class="card" href="#" data-page-link="services">
            <h3>Stones & Services</h3>
            <p class="muted">Delabole & Welsh slate, granite extras, lettering and repainting.</p>
          </a>
          <a class="card" href="#" data-page-link="contact">
            <h3>Get a Quote</h3>
            <p class="muted">Quick request — attach photos and tell us what you need.</p>
          </a>
        </div>
      </section>

      <!-- MEMORIALS PAGE -->
      <section id="memorials" class="page">
        <h1>Memorials</h1>
        <p class="muted">Examples, local rules, and guidance for memorials in Devon & Cornwall.</p>
        <hr>
        <div class="rules">
          <div class="rule-block">
            <h3>Cornwall (churchyards)</h3>
            <ul>
              <li>Materials: Light grey granite or slate only.</li>
              <li>Finish: Polished face allowed for lettering; sides/back honed (matt).</li>
              <li>Sizes: Height and width restrictions apply (we check your parish).</li>
            </ul>
          </div>
          <div class="rule-block">
            <h3>Devon (churchyards)</h3>
            <ul>
              <li>Materials: Slate, light grey to dark grey granite.</li>
              <li>Finish: No polish is permitted — matt/sanded finish required all over.</li>
              <li>Sizes: Varies by parish — we confirm before work begins.</li>
            </ul>
          </div>
        </div>

        <hr>
        <section>
          <h2>Cemeteries</h2>
          <p class="muted">Cemeteries are generally more flexible — many accept polished granite and a wider range of styles. We'll advise on your chosen site.</p>
        </section>

        <div class="bottom-cta"><button class="quote-small" id="quoteBtn2">Get a Quote</button></div>
      </section>

      <!-- SERVICES PAGE -->
      <section id="services" class="page">
        <h1>Stones & Services</h1>
        <section>
          <h2>Memorial Stone Options</h2>
          <p class="muted">We work with Delabole (Cornish) and Welsh slate for memorials — both are traditional and durable choices. We'll help you choose what suits your needs and budget.</p>
        </section>

        <section>
          <h2>House Signs & Extras</h2>
          <p class="muted">Signs can be made in Delabole, Welsh, or Brazilian slate. Brazilian slate has a naturally split face and is an attractive option for signs.</p>
        </section>

        <section>
          <h2>Lettering & Finishes</h2>
          <ul>
            <li>Sandblasted lettering — crisp and long-lasting.</li>
            <li>Hand-engraved lettering — traditional craftsmanship.</li>
            <li>Repainting services — we refresh lettering where the stone accepts repainting.</li>
          </ul>
        </section>

        <section style="margin-top:16px">
          <h3>Caring for Your Memorial</h3>
          <div class="img-placeholder">Video placeholder — tutorial on cleaning & repainting (add actual video later)</div>
          <p class="muted">We offer cleaning and repainting to keep memorials looking their best.</p>
        </section>

        <div class="bottom-cta"><button class="quote-small" id="quoteBtn3">Get a Quote</button></div>
      </section>

      <!-- CONTACT PAGE -->
      <section id="contact" class="page">
        <div class="contact-top">
          <div>
            <h1 style="position:relative; z-index:1">Contact</h1>
            <p class="muted">Quick quote requests work best with a photo and a short description.</p>
          </div>
          <div class="castle-wrap" aria-hidden="true">
            <!-- Subtle castle background animation (vector silhouette-style) -->
            <svg class="castle-bg" viewBox="0 0 600 400" role="img" aria-label="Castle silhouette">
              <defs>
                <linearGradient id="cGrad" x1="0" y1="0" x2="0" y2="1">
                  <stop offset="0" stop-color="#1c2d24"/>
                  <stop offset="1" stop-color="#1c2d24"/>
                </linearGradient>
              </defs>
              <!-- rough traced silhouette—clean and subtle -->
              <path d="M40,300 L120,240 L220,240 L260,210 L300,230 L360,170 L420,180 L460,160 L500,190 L560,175 L560,320 L40,320 Z"
                    fill="url(#cGrad)" opacity="0.8"/>
              <!-- light inner stipple strokes (very subtle) -->
              <path d="M80,285 C120,270 160,270 200,260 M230,250 C260,245 290,240 320,220 M360,200 C390,195 420,190 450,185"
                    stroke="#0a0f0d" stroke-opacity="0.25" stroke-width="4" fill="none" stroke-linecap="round"/>
            </svg>
          </div>
        </div>

        <div class="contact-panels">
          <div class="panel">
            <h3>Get in touch</h3>
            <ul class="info-list">
              <li><strong>Email (example):</strong> test@example.com</li>
              <li><strong>Phone:</strong> 01234 567890</li>
            </ul>
            <p class="muted">Use the “Send Email” headstone below to open a pre-filled message.</p>
          </div>

          <div class="panel">
            <h3>Map (placeholder)</h3>
            <div class="map-box" aria-hidden="true">
              <!-- Pure SVG map placeholder (no services) -->
              <svg viewBox="0 0 400 300" preserveAspectRatio="none">
                <rect x="0" y="0" width="400" height="300" fill="#f8f8f8"/>
                <path d="M40,220 L120,160 L220,170 L260,150 L320,180 L360,140" fill="none" stroke="#c7c7c7" stroke-width="8" stroke-linecap="round"/>
                <circle cx="260" cy="150" r="8" fill="#888"/>
                <text x="20" y="24" font-size="14" fill="#777">Example Map Area</text>
                <rect x="20" y="250" width="140" height="28" rx="6" ry="6" fill="#e9e9e9" stroke="#ddd"/>
                <text x="30" y="268" font-size="12" fill="#666">Directions placeholder</text>
              </svg>
            </div>
          </div>

          <div class="panel">
            <h3>Did you know?</h3>
            <p class="muted">Churchyard rules vary by parish. We confirm local requirements before any work begins.</p>
          </div>

          <div class="panel">
            <h3>Commonly Asked Questions</h3>
            <details>
              <summary>Can you repaint faded lettering?</summary>
              <p>Yes — where the stone accepts repainting we can refresh it to match the original intent.</p>
            </details>
            <details>
              <summary>What materials do you recommend?</summary>
              <p>Delabole or Welsh slate for tradition and durability; granite for some cemetery settings.</p>
            </details>
            <details>
              <summary>Do you advise on parish rules?</summary>
              <p>Absolutely. We check with your parish and guide you through permitted sizes and finishes.</p>
            </details>
          </div>
        </div>

        <!-- Bottom feature: headstone → envelope (hover folds; click opens mail) -->
        <div class="contact-bottom">
          <button class="fold-cta" id="contactFoldBtn" aria-label="Send Email">
            <svg viewBox="0 0 220 180" id="stoneContact" role="img" aria-hidden="true">
              <!-- Headstone front (ogee) -->
              <path class="stone-outline" id="stoneContactFront"
                    d="M30 150 L30 88 C30 72 52 52 95 48 C112 46 138 46 155 48 C198 52 210 72 210 88 L210 150 Z"
                    fill="var(--stone)"/>
              <!-- Base (forms envelope flap underfold) -->
              <rect class="stone-outline-thin" x="58" y="130" width="124" height="12" fill="rgba(0,0,0,0.06)"></rect>

              <!-- Envelope state (hidden initially) -->
              <g id="envelopeGroup" transform="translate(0,0) scale(1)" opacity="0">
                <rect x="40" y="90" width="160" height="70" rx="6" fill="#ffffff" stroke="#2a2a2a" stroke-width="2"/>
                <path d="M40 90 L120 130 L200 90" fill="none" stroke="#2a2a2a" stroke-width="2"/>
                <!-- bottom base as under-fold triangle -->
                <path d="M40 160 L120 120 L200 160 Z" fill="#f2f2f2" stroke="#2a2a2a" stroke-width="1.6"/>
              </g>
            </svg>
            <span>Send Email</span>
          </button>
        </div>

        <div class="bottom-cta"><button class="quote-small" id="quoteBtn4">Get a Quote</button></div>
      </section>

    </div> <!-- container -->
  </main>

  <!-- fixed mobile bottom CTA -->
  <div class="mobile-bottom-cta" style="display:none" id="mobileCtaWrap">
    <button class="quote-button" id="mobileQuoteBtn"><svg viewBox="0 0 200 200" aria-hidden="true">
      <path class="stone-outline" d="M30 160 L30 110 C30 92 50 70 80 66 C92 64 108 64 120 66 C150 70 170 92 170 110 L170 160 Z" fill="var(--stone)"/>
    </svg><span class="btn-text">Get a Quote</span></button>
  </div>

  <!-- FOOTER -->
  <footer>
    <div class="rope-strip" id="ropeStripFooter"></div>
    <div class="container">
      <div class="muted">David Gynn Memorials — Family run in Cornwall · Over 40 years of trusted masonry</div>
      <div class="muted">© <span id="year"></span></div>
    </div>
  </footer>

  <!-- Inline scripts -->
  <script>
    // --- Rope strip asset (inline svg background) ---
    (function injectRope(){
      var svg = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 60"><path d="M0 30 C40 0 120 0 160 30 C200 60 280 60 320 30 C360 0 440 0 480 30 C520 60 600 60 640 30 C680 0 760 0 800 30 C840 60 920 60 960 30 C1000 0 1080 0 1120 30 C1160 60 1200 60 1240 30" stroke="%236b7f6a" stroke-width="8" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>';
      var enc = 'data:image/svg+xml;utf8,'+encodeURIComponent(svg);
      var el = document.getElementById('ropeStrip');
      var el2 = document.getElementById('ropeStripFooter');
      if(el) el.style.backgroundImage = 'url("' + enc + '")';
      if(el2) el2.style.backgroundImage = 'url("' + enc + '")';
    })();

    // --- SPA navigation ---
    (function navSetup(){
      var buttons = document.querySelectorAll('.nav button');
      function show(page){
        document.querySelectorAll('.page').forEach(function(p){ p.classList.remove('active'); });
        var el = document.getElementById(page);
        if(el) el.classList.add('active');
        buttons.forEach(btn => btn.classList.toggle('active', btn.dataset.page===page));
        var mobileWrap = document.getElementById('mobileCtaWrap');
        if(window.innerWidth <= 720){ mobileWrap.style.display = 'flex'; }
        window.scrollTo({top:0,behavior:'smooth'});
      }
      buttons.forEach(function(btn){
        btn.addEventListener('click', function(e){
          e.preventDefault();
          show(btn.dataset.page);
        });
      });
      document.querySelectorAll('[data-page-link]').forEach(function(a){
        a.addEventListener('click', function(e){
          e.preventDefault();
          show(a.dataset.pageLink);
        });
      });
      show('home');
      document.getElementById('year').textContent = new Date().getFullYear();
    })();

    // --- Quote button: smooth fold then mailto ---
    (function quoteSetup(){
      var mailTo = 'test@example.com';
      var subject = encodeURIComponent('Quote Request – David Gynn Memorials');
      var bodyTemplate = encodeURIComponent('Hello David Gynn Memorials,%0D%0A%0D%0AI would like to request a quote for:%0D%0A%0D%0A[ ] Cleaning and Painting%0D%0A[ ] Simple Memorial Request%0D%0A[ ] Brochure Request%0D%0A[ ] Other (please specify)%0D%0A%0D%0ADetails:%0D%0A_______________________%0D%0A%0D%0APlease attach any images if relevant.');
      function openMail(){ window.location.href = 'mailto:'+mailTo+'?subject='+subject+'&body='+bodyTemplate; }

      function animateAndSend(svgElement){
        svgElement.style.transition = 'transform 1.2s cubic-bezier(.2,.7,.2,1), opacity 1.2s';
        svgElement.style.transformOrigin = '50% 35%';
        svgElement.style.transform = 'rotateX(22deg) translateY(6px) scale(0.96)';
        svgElement.style.opacity = '0.94';
        setTimeout(function(){
          openMail();
          setTimeout(function(){
            svgElement.style.transform = '';
            svgElement.style.opacity = '';
          }, 900);
        }, 1200);
      }

      var primary = document.getElementById('quoteBtn');
      var stoneSVG = document.getElementById('stoneSVG');
      if(primary){ primary.addEventListener('click', function(e){ e.preventDefault(); animateAndSend(stoneSVG); }); }
      ['quoteBtn2','quoteBtn3','quoteBtn4','mobileQuoteBtn'].forEach(function(id){
        var b = document.getElementById(id);
        if(!b) return;
        b.addEventListener('click', function(e){ e.preventDefault(); animateAndSend(stoneSVG); });
      });
    })();

    // --- Contact page: hover-fold → envelope, click to email ---
    (function contactFold(){
      var btn = document.getElementById('contactFoldBtn');
      var front = document.getElementById('stoneContactFront');
      var env = document.getElementById('envelopeGroup');

      // smooth transitions
      [front, env].forEach(function(el){
        el.style.transition = 'transform 700ms cubic-bezier(.25,.8,.25,1), opacity 700ms';
        el.style.transformOrigin = '50% 60%';
      });

      // hover: fold open
      btn.addEventListener('mouseenter', function(){
        front.style.transform = 'rotateX(82deg) translateY(12px)';
        front.style.opacity = '0';
        env.style.opacity = '1';
        env.style.transform = 'translateY(-6px)';
      });
      // leave: fold back
      btn.addEventListener('mouseleave', function(){
        front.style.transform = '';
        front.style.opacity = '1';
        env.style.opacity = '0';
        env.style.transform = '';
      });

      // click: open email
      btn.addEventListener('click', function(e){
        e.preventDefault();
        var mailTo = 'test@example.com';
        var subject = encodeURIComponent('Contact – David Gynn Memorials');
        var body = encodeURIComponent('Hello,%0D%0A%0D%0AI would like to enquire about...%0D%0A%0D%0A(Please attach any images if relevant.)');
        window.location.href = 'mailto:'+mailTo+'?subject='+subject+'&body='+body;
      });
    })();

    // Accessibility: keyboard trigger for main CTA
    (function a11y(){
      document.addEventListener('keydown', function(e){
        if(e.key==='Enter'){
          var active = document.activeElement;
          if(active && active.classList && (active.classList.contains('quote-button') || active.id==='contactFoldBtn')){
            active.click();
          }
        }
      });
    })();

    // Mobile CTA visibility
    (function mobileCtaShow(){
      function update(){
        var wrap = document.getElementById('mobileCtaWrap');
        if(!wrap) return;
        wrap.style.display = window.innerWidth <= 720 ? 'flex' : 'none';
      }
      update();
      window.addEventListener('resize', update);
    })();
  </script>
</body>
</html>
